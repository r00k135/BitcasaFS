/*
 * jQuery jPut Plug-in 1.0.9
 * http://plugins.jquery.com/jput/
 * Developed by Shabeer Ali M 
 * Email : shabeer@jput.org
*/
(function(e){e.fn.jPut=function(n){var r={name:"",jsonData:"",ajax_url:"",ajax_data:"",ajax_type:"GET",dataName:"",limit:0,prepend:false,done:function(e){},error:function(e){}};var n=e.extend({},r,n);var i;try{e('[jput="'+n.name+'"],[jput]').hide();var s=e(this);var o=n.name==""?e("[jput]").clone():e('[jput="'+n.name+'"]').clone();if(o.length==0)throw"Cant find the jPut template!";var u=/\{{([^}}]+)\}}/g;var a=o.html().match(u);if(n.ajax_url!=""){e.ajax({url:n.ajax_url,dataType:"json",data:n.ajax_data,type:n.ajax_type,success:function(e){n.jsonData=e;f(n)},error:function(e){console.log(e);alert("jPut:Ajax Error")}})}else f(n);function f(n){var r=n.jsonData;if(typeof r!="object")r=e.parseJSON(n.jsonData);if(typeof r!="object")throw"Invalid JSON data!";r=n.dataName==""?r:r[n.dataName];if(r==null)throw"JSON data is empty!";if(n.limit!=0)r=r.slice(0,n.limit);n.jsonData=r;e.each(r,function(r,u){i=o.html();if(a!=null)e.each(a,function(e,n){var r=new RegExp(n);t=n.replace(/{{|}}/g,"");t=t.split("||");if(typeof u[t[0]]!="undefined"&&u[t[0]]!="")i=i.replace(n,u[t[0]]);else if(typeof t[1]!="undefined")i=i.replace(n,t[1]);else i=i.replace(n,u[t[0]])});i=i.replace("jsrc","src");if(n.prepend==false)s.append(i);else s.prepend(i)});e.isFunction(n.done)&&n.done.call(this,n.jsonData)}}catch(l){e.isFunction(n.error)&&n.error.call(this,l)}this.getValue=function(e){return n.jsonData[e]};return this.each(function(){})}})(jQuery)